import{J as b}from"./JsToCode-831ee6e5.js";import{_ as S,B as g,r as u,o as i,c as s,a,F as d,m as w,b as m,q as v,w as V,t as y,z as T,p as k,f as D}from"./index-8430eb00.js";const p=new b,F={name:"TestActions",extends:g.CrudComponent,inject:["store"],data(){return window.TW=this,{aSelected:null,actionLayout:"simple",actionsConf:{"Action Singola":this.actionSingola(),"Action default e Ridefinita":this.actionDefaultDoppia(),"Action custom":this.actionCustom()},fIndex:0,dynamicCode:"",defaultCode:"",reload:!1,editor:null,editorDefault:null,widgetType:""}},mounted(){let e=this;setTimeout(function(){p.loadVisLib(function(){console.debug("OK",document.getElementById("example")),e.editor=ace.edit("example",{theme:"ace/theme/textmate",mode:"ace/mode/javascript",value:"var conf = {}"})})},200)},watch:{aSelected(){let e=this,t=this.actionsConf[e.aSelected];for(let n in t.actions){let c=Object.assign({},t.actions[n]?t.actions[n]:{});t.actions[n]=g.CrudCore.getActionConf(n,c)}console.debug("action conf",e.aSelected,t),this.dynamicCode=p.getSourceCode(t),this.editor&&this.editor.setValue("var conf = "+this.dynamicCode)}},methods:{actionSingola(){return{actions:{"action-save":{text:"ok"}}}},actionDefaultDoppia(){return{actions:{"action-save":null,"action-save2":{actionParent:"action-save",text:"Save 2"}}}},actionCustom(){return{actions:{"action-mia":{text:"Mia",execute(){alert("mia")}},"action-save2":{actionParent:"action-save",text:"Save 2"}}}},updateCode(){let e=this,t=e.editor.getValue(),n=p.updateCode(t);e.reload=!0,setTimeout(function(){try{e.actionsConf[e.aSelected]=window[n](),e.reload=!1}catch(c){throw e.errorDialog(c),c}},20)},wChipConf(){return{type:"w-chip",name:"field1",value:["testone"],change(){console.log("chip value",this.getValue())}}},wHiddenConf(){return{type:"w-hidden",name:"field1",value:"testone"}},wTextConf(){return{type:"w-text",name:"field1",value:"testone"}},wInputConf(){return{inputType:"text",value:"220",change(e){let t=this;console.log("value",t.getValue(),"that",t,"event",e)}}},wSelectConf(){return{value:20,name:"field1",type:"w-select",domainValues:{10:"Dieci",20:"Venti",30:"Trenta"},change(){console.log("value",this.value)}}},wAutocompleteConf(){return{type:"w-autocomplete",name:"email",labelFields:["email"],value:2,foormName:"user",viewType:"edit",referredData:{id:2,email:"ciullo@gmail.com",name:"Pier Paolo Ciullo"},clearButton:!0,extraBind:{"option-label":"name"}}},wCheckboxConf(){return{type:"w-checkbox",value:["1","4"],domainValues:{1:"Uno",2:"Due",3:"Tre",4:"Quattro",5:"Cinque"},change(){console.log(this.value)}}},wRadioConf(){return{type:"w-radio",value:"1",name:"field1",domainValues:{0:"Zero",1:"Uno",2:"Due",3:"Tre"},domainValuesOrder:[3,2,1,0],change(){console.log("change ",this.getValue())}}},wHasmany(e){let t={name:"field1",label:"Hasmany",type:"w-hasmany",hasmanyType:e,hasmanyConf:{fields:["id","nome","descrizione","resource"],defaultWidgetType:"w-input",fieldsConfig:{id:{type:"w-hidden"},nome:{type:"w-input"},resource:{type:"w-input"}}},value:[{id:35,nome:"nome uno",descrizione:"descrizione presente",resource:"de ma de"}],limit:3,change(){console.log("change ",this.getValue())}};return e=="list"&&(t.hasmanyConf.actions=["action-insert","action-delete-selected"]),t},wBelongstoConf(){return{name:"user",type:"w-belongsto",cRef:"wTest",separator:"--",labelFields:["email"],value:{id:3,email:"amministratore@amministratore.it"}}},wCustomConf(){return{type:"w-custom",value:"ciao <b>tutti</b>"}},wColorPickerConf(){return{type:"w-color-picker",value:"#FF00FF"}},wDatePickerConf(){return{value:"2020-12-20",buttonClear:!0,type:"w-date-picker",change(){console.log("date-picker",this.value)}}},wDateTextConf(){return{type:"w-date-text",value:"2021-12-09",displayFormat:"LLL"}},wDateTextConf2(){return{type:"w-date-text",value:"2021-12-18",displayFormat:"giorno DD anno YYYY mese MM"}},wTextareaConf(){return{type:"w-textarea",value:"text area prvoa",change(){console.log("textarea value ",this.getValue())}}},wMultiSelectConf(){return{value:[20,30],name:"field1",type:"w-multi-select",domainValues:{10:"Dieci",20:"Venti",30:"Trenta",40:"Quaranta"},change(){console.log("change ",this.getValue())}}},wSwapConf(){return{type:"w-swap",value:0,name:"banned",onIcon:"fa fa-circle",modelData:{id:4},modelName:"user",routeName:"set",change(){console.log("change ",this.getValue())}}},wStatusConf(){return{value:7,statusType:"icon",type:"w-status",domainValues:{5:"fa fa-times text-red-600",6:"fa fa-gear text-green-600",7:"fa fa-question text-yellow-600"}}},wStatusTextConf(){return{value:5,statusType:"text",type:"w-status",domainValues:{5:"Ciao bello",6:"Prova",7:"Sette"}}},wTexthtmlConf(){return{value:"text area prvoa",type:"w-texthtml",change(){console.log("change",this.getValue())}}},wUploadConf(){return{name:"field1",type:"w-upload",maxFileSize:"2M",extensions:["pdf","xls","png"],modelName:"user",value:{id:"files/allegati/allegato_1_1643619308.pdf",url:"downloadmediable/attachment/1",mimetype:"application/pdf"},ajaxFields:{resource_type:"attachment",field:"name"},methods:{change:function(){console.log("my change",this.getValue())}}}},wUploadAjaxConf(){return{name:"field1",type:"w-upload-ajax",maxFileSize:"2M",extensions:["pdf","xls","png"],modelName:"user",value:{id:"files/allegati/allegato_1_1643619308.pdf",url:"downloadmediable/attachment/1",mimetype:"application/pdf"},ajaxFields:{resource_type:"attachment",field:"name"},methods:{change:function(){console.log("my change",this.getValue())}}}}}},r=e=>(k("data-v-06f420ba"),e=e(),D(),e),A={class:"grid"},B={class:"col-12"},j={class:"card"},I=r(()=>a("h5",null,"Actions",-1)),z=["onClick"],L=r(()=>a("hr",null,null,-1)),P={key:0},M=r(()=>a("hr",null,null,-1)),N={class:"grid"},H={class:"col-6"},O=r(()=>a("div",{class:"font-italic"},"Iniziare il codice sempre con var conf = ",-1)),R=r(()=>a("div",{id:"example",class:"h-20rem w-full"},null,-1));function U(e,t,n,c,o,C){const f=u("Button"),_=u("c-action"),x=u("Fieldset");return i(),s("div",A,[a("div",B,[a("div",j,[I,a("div",null,[(i(!0),s(d,null,w(o.actionsConf,(h,l)=>(i(),s("a",{key:l,class:"p-button m-1 p-1 p-button-outlined",href:"javascript:void(0)",onClick:Y=>o.aSelected=l},y(l),9,z))),128))]),L,a("div",null,[a("div",null,[["w-hasmany","w-hasmany-list"].indexOf(o.aSelected)>=0?(i(),s("div",P,[m(f,{icon:"fa fa-plus",onClick:e.addHasmany,label:"setValue dall'esterno"},null,8,["onClick"])])):v("",!0),m(x,{legend:"Area Widget"},{default:V(()=>[(i(!0),s(d,null,w(o.actionsConf,(h,l)=>(i(),s(d,{key:l},[o.aSelected==l&&!o.reload?(i(),T(_,{key:0,class:"w-full",ref_for:!0,ref:l,conf:h,layout:o.actionLayout},null,8,["conf","layout"])):v("",!0)],64))),128))]),_:1}),m(f,{class:"p-button w-4 mt-1",label:"Run",onClick:C.updateCode},null,8,["onClick"]),M,a("div",N,[a("div",H,[a("h6",null,"Configurazione Action "+y(o.widgetType),1),O,R])])])])])])])}const E=S(F,[["render",U],["__scopeId","data-v-06f420ba"]]);export{E as default};
