import{_ as V}from"./logo-roma-0f424776.js";import{N as t,P as b,Q as w,r as d,o as p,c as v,b as e,t as x,m as y,d as r,y as C,R as B}from"./index-1ddec2da.js";const I={class:"login-body"},h={class:"card login-panel p-fluid"},N={class:"login-panel-content"},R={class:"grid"},S={key:0,class:"text-red-500"},U={class:"col-12 username-container"},P={class:"login-input"},M={class:"col-12 password-container"},T={class:"login-input"},D={class:"col-6 rememberme-container"},E={class:"col-12 sm:col-6"},W={__name:"Login",setup(F){const n=t(""),a=t(""),i=t(!1),u=t(""),g=b(),c=t(!1);w(()=>"/assets/images/logo.svg");function _(){i.value=!1,console.log("login",n.value,a.value),C.Server.post("/api/login",{email:n.value,password:a.value},function(s){if(console.log("json respons",s),s.error){i.value=!0,u.value=s.msg;return}s.access_token&&(window.localStorage.setItem("token",s.access_token),B.loadMenu().then(()=>{g.push("/")}))})}return(s,o)=>{const m=d("InputText"),f=d("Checkbox"),k=d("Button");return p(),v("div",I,[e("div",h,[e("div",N,[e("div",R,[i.value?(p(),v("div",S,[e("div",null,x(u.value),1)])):y("",!0),o[6]||(o[6]=e("div",{class:"col-12 sm:col-6 md:col-6 logo-container"},[e("img",{src:V,alt:"roma"}),e("span",{class:"guest-sign-in"},"Welcome, please use the form to sign-in Roma network")],-1)),e("div",U,[o[3]||(o[3]=e("label",null,"Username",-1)),e("div",P,[r(m,{id:"input",type:"text",modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=l=>n.value=l)},null,8,["modelValue"])])]),e("div",M,[o[4]||(o[4]=e("label",null,"Password",-1)),e("div",T,[r(m,{type:"password",modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=l=>a.value=l)},null,8,["modelValue"])])]),e("div",D,[r(f,{modelValue:c.value,"onUpdate:modelValue":o[2]||(o[2]=l=>c.value=l),binary:!0},null,8,["modelValue"]),o[5]||(o[5]=e("label",null," Remember me",-1))]),o[7]||(o[7]=e("div",{class:"col-6 mt-1 forgetpassword-container"},[e("a",{href:"#",class:"forget-password"},"Forget Password")],-1)),e("div",E,[r(k,{label:"Sign In",icon:"pi pi-check",onClick:_})])])])])])}}};export{W as default};
