import{_ as p,r as s,o as l,c as f,a as o,z as v,q as h,b as C,t as d,B as g}from"./index-f56106c1.js";import{J as w}from"./JsToCode-c063e242.js";const r={cRef:"importComune",modelName:"dcomune",providerName:"dcomune",confUpload:{value:null,name:"resource",maxFileSize:"2M",modelName:"dcomune",extensions:["csv","doc"],ajaxFields:{resource_type:"attachment",field:"resource"}},viewUpload:{fields:[],fieldsConfig:{vettore_id:{type:"w-select"},giorni:{type:"w-checkbox"}}},viewList:{type:"v-list",fields:["datafile_sheet","row","codice_regione","codice_provincia_nuovo","codice_provincia","progressivo_comune","codice_istat","nome_all","nome_it","nome_altra_lingua","codice_area","area","regione","provincia","tipo_provincia","capoluogo","sigla_provincia","codice_istat_numerico","codice_istat_numerico_110","codice_istat_numerico_107","codice_istat_numerico_103","codice_catastale","codice_nuts_1","codice_nuts_2","codice_nuts_3"]},viewSave:{routeName:null,type:"v-edit"},listData:{fields:[],fieldsConfig:{}}},y=g.cImport,c=new w,x={name:"TestImport",components:{cImport:y},mounted(){let e=this;setTimeout(function(){c.loadVisLib(function(){console.debug("OK",document.getElementById("example")),e.dynamicCode=c.getSourceCode(e.importConf),e.editor=ace.edit("example",{theme:"ace/theme/textmate",mode:"ace/mode/javascript",value:"var conf = "+e.dynamicCode}),e.editorDefault=ace.edit("defaultCode",{theme:"ace/theme/textmate",mode:"ace/mode/javascript",value:"var conf = {}"})})},200)},data(){return console.log("configuration",r),{importConf:r,dynamicCode:"",editor:null,editorDefault:null,reload:!1}},methods:{updateCode(){let e=this,i=e.editor.getValue(),a=c.updateCode(i);e.reload=!0,setTimeout(function(){try{e.importConf=window[a](),e.reload=!1}catch(t){throw e.errorDialog(t),t}},20)}}},B={class:"grid"},N={class:"col-12"},k={class:"col-12"},b=o("hr",null,null,-1),D={class:"grid"},I={class:"col-6"},T=o("div",{class:"font-italic"},"Iniziare il codice sempre con var conf = ",-1),V=o("div",{id:"example",class:"h-20rem w-full"},null,-1),z={class:"col-6"},S=o("div",{id:"defaultCode",class:"h-20rem w-full"},null,-1);function j(e,i,a,t,n,m){const u=s("c-import"),_=s("Button");return l(),f("div",B,[o("div",N,[n.reload?h("",!0):(l(),v(u,{key:0,conf:n.importConf},null,8,["conf"]))]),o("div",k,[C(_,{class:"p-button w-4 mt-1",label:"Run",onClick:m.updateCode},null,8,["onClick"]),b,o("div",D,[o("div",I,[o("h6",null,"Configurazione View "+d(e.wSelected),1),T,V]),o("div",z,[o("h6",null,"Configurazione di default "+d(e.viewType),1),S])])])])}const J=p(x,[["render",j]]);export{J as default};
