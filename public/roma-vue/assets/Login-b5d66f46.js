import{s as t,W as b,X as k,r as d,o as p,c as v,a as e,t as w,e as x,Y as S,b as i,p as y,Z as B}from"./index-4a67ee74.js";const C={class:"login-body"},h={class:"card login-panel p-fluid"},I={class:"login-panel-content"},N={class:"grid"},U={key:0,class:"text-red-500"},M={class:"col-12 username-container"},P={class:"login-input"},R={class:"col-12 password-container"},T={class:"login-input"},D={class:"col-6 rememberme-container"},E={class:"col-12 sm:col-6"},O={__name:"Login",setup(F){const n=t(""),a=t(""),r=t(!1),u=t(""),g=b(),c=t(!1);k(()=>"/assets/images/logo.svg");function _(){r.value=!1,console.log("login",n.value,a.value),y.Server.post("/api/login",{email:n.value,password:a.value},function(s){if(console.log("json respons",s),s.error){r.value=!0,u.value=s.msg;return}s.access_token&&(window.localStorage.setItem("token",s.access_token),B.loadMenu().then(()=>{g.push("/")}))})}return(s,o)=>{const m=d("InputText"),f=d("Checkbox"),V=d("Button");return p(),v("div",C,[e("div",h,[e("div",I,[e("div",N,[r.value?(p(),v("div",U,[e("div",null,w(u.value),1)])):x("",!0),o[6]||(o[6]=e("div",{class:"col-12 sm:col-6 md:col-6 logo-container"},[e("img",{class:"h-5rem",src:S,alt:"SNS orientamento"}),e("div",null,[e("h5",{class:"text-primary"},"SNS Orientamento")]),e("span",{class:"guest-sign-in"},"Benvenuto nell'area amministrativa.")],-1)),e("div",M,[o[3]||(o[3]=e("label",null,"Username",-1)),e("div",P,[i(m,{id:"input",type:"text",modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=l=>n.value=l)},null,8,["modelValue"])])]),e("div",R,[o[4]||(o[4]=e("label",null,"Password",-1)),e("div",T,[i(m,{type:"password",modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=l=>a.value=l)},null,8,["modelValue"])])]),e("div",D,[i(f,{modelValue:c.value,"onUpdate:modelValue":o[2]||(o[2]=l=>c.value=l),binary:!0},null,8,["modelValue"]),o[5]||(o[5]=e("label",null," Remember me",-1))]),o[7]||(o[7]=e("div",{class:"col-6 mt-1 forgetpassword-container"},[e("a",{href:"#",class:"forget-password"},"Forget Password")],-1)),e("div",E,[i(V,{label:"Sign In",icon:"pi pi-check",onClick:_})])])])])])}}};export{O as default};
